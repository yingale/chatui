{"ast":null,"code":"var _jsxFileName = \"/Users/yogeshingale/Sites/personal/dripShopUI/client/src/components/MessageForm.js\",\n  _s = $RefreshSig$();\nimport { useRef } from 'react';\nimport { useMessagesDispatch } from '../contexts/MessagesContext';\nimport socket from '../Socket';\nimport { postMessageData } from '../Integration';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MessageForm({\n  fullName,\n  senderId,\n  receiverId,\n  type\n}) {\n  _s();\n  const textareaRef = useRef(null);\n  const dispatch = useMessagesDispatch();\n  const checkSubmit = e => {\n    if ((e.ctrlKey || e.metaKey) && (e.keyCode === 13 || e.keyCode === 10)) {\n      handleSubmit();\n    }\n  };\n  const handleSubmit = () => {\n    let textarea = textareaRef.current;\n    socket.emit('send message', {\n      user: fullName,\n      text: textarea.value\n    });\n    dispatch({\n      type: 'newmessage',\n      message: {\n        type: 'primary',\n        user: fullName,\n        text: textarea.value\n      }\n    });\n    let groupId = 0;\n    if (type === \"group\") {\n      groupId = parseInt(receiverId);\n    }\n    let messageData = {\n      senderId: senderId,\n      receiverId: parseInt(receiverId),\n      content: textarea.value,\n      groupId: groupId\n    };\n    postMessageData(messageData);\n    textarea.value = '';\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column is-paddingless\",\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textareaRef,\n        autoFocus: true,\n        className: \"textarea is-shadowless\",\n        rows: \"2\",\n        placeholder: \"Type a message\",\n        onKeyDown: checkSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column is-2-mobile is-1-tablet is-paddingless\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button is-medium is-paddingless is-white\",\n        onClick: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"far fa-paper-plane\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(MessageForm, \"9WXkXUtwjjv80dumytH2Xlb75H0=\", false, function () {\n  return [useMessagesDispatch];\n});\n_c = MessageForm;\nexport default MessageForm;\nvar _c;\n$RefreshReg$(_c, \"MessageForm\");","map":{"version":3,"names":["useRef","useMessagesDispatch","socket","postMessageData","jsxDEV","_jsxDEV","Fragment","_Fragment","MessageForm","fullName","senderId","receiverId","type","_s","textareaRef","dispatch","checkSubmit","e","ctrlKey","metaKey","keyCode","handleSubmit","textarea","current","emit","user","text","value","message","groupId","parseInt","messageData","content","children","className","ref","autoFocus","rows","placeholder","onKeyDown","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/yogeshingale/Sites/personal/dripShopUI/client/src/components/MessageForm.js"],"sourcesContent":["import { useRef } from 'react';\nimport { useMessagesDispatch } from '../contexts/MessagesContext';\nimport socket from '../Socket';\nimport {postMessageData} from '../Integration'\n\nfunction MessageForm({ fullName, senderId, receiverId, type }) {\n  const textareaRef = useRef(null);\n  const dispatch = useMessagesDispatch();\n\n  const checkSubmit = (e) => {\n    if ((e.ctrlKey || e.metaKey) && (e.keyCode === 13 || e.keyCode === 10)) {\n      handleSubmit();\n    }\n  }\n\n  const handleSubmit = () => {\n    let textarea = textareaRef.current;\n\n    socket.emit('send message', {\n      user: fullName,\n      text: textarea.value\n    });\n\n    dispatch({\n      type: 'newmessage',\n      message: {\n        type: 'primary',\n        user: fullName,\n        text: textarea.value\n      }\n    });\n    let groupId = 0\n    if(type===\"group\") {\n      groupId = parseInt(receiverId)\n    }\n    let messageData = {\n      senderId: senderId,\n      receiverId: parseInt(receiverId),\n      content: textarea.value,\n      groupId: groupId\n    }\n    postMessageData(messageData)\n    textarea.value = '';\n  }\n\n\n  return (\n    <>\n      <div className=\"column is-paddingless\">\n        <textarea ref={textareaRef} autoFocus={true} className=\"textarea is-shadowless\" rows=\"2\" placeholder=\"Type a message\" onKeyDown={checkSubmit}></textarea>\n      </div>\n\n      <div className=\"column is-2-mobile is-1-tablet is-paddingless\">\n      <button className=\"button is-medium is-paddingless is-white\" onClick={handleSubmit}>\n            <i className=\"far fa-paper-plane\"></i>\n          </button>\n      </div>\n\n    </>\n  );\n}\n\nexport default MessageForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}